<!DOCTYPE html>
<html>
  <head>
    <title>Encode/Decode Message</title>
  </head>
  <body>
    <h1>Encode/Decode Message</h1>
    <label for="message">Enter your message:</label>
    <br>
    <textarea id="message" name="message" rows="5" cols="50"></textarea>
    <br>
    <select id="action">
      <option value="encode">Encode</option>
      <option value="decode">Decode</option>
    </select>
    <br>
    <button onclick="transformMessage()">Transform</button>
    <br>
    <label for="result">Result:</label>
    <br>
    <textarea id="result" name="result" rows="5" cols="50" readonly></textarea>
    
    <script>
      function transformMessage() {
        var phrase = document.getElementById("message").value;
        var string = "";
        var key = "QWERTYUIOPASDFGHJKLZXCVBNM";
        var key2 = "+xรท=/_<>[]!@#$%&*()-\'\":;,?";
        var action = document.getElementById("action").value;
        for (var i = 0; i < phrase.length; i++) {
          var char = phrase.charAt(i);
          if (key2.includes(char)) {
            for (var j = 0; j < key2.length; j++) {
              if (key2.charAt(j) === char) {
                if (action === "encode") {
                  string += key.charAt(j);
                } else {
                  string += char;
                }
                break;
              }
            }
          } else if (key.includes(char)) {
            for (var j = 0; j < key.length; j++) {
              if (key.charAt(j) === char) {
                if (action === "encode") {
                  string += key2.charAt(j);
                } else {
                  string += char;
                }
                break;
              }
            }
          } else if (char === " ") {
            string += "  ";
          } else {
            string += char;
          }
        }
        document.getElementById("result").value = string;
      }
    </script>
  </body>
</html>
